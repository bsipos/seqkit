language: go

os:
  - linux
  - osx

go:
  - 1.x

before_install:
  - | if [ $TRAVIS_OS_NAME == "linux" ]; then wget http://repo.continuum.io/miniconda/Miniconda3-latest-Linux-x86_64.sh -O miniconda.sh; fi;
      if [ $TRAVIS_OS_NAME == "osx" ]; then wget https://repo.anaconda.com/miniconda/Miniconda3-latest-MacOSX-x86_64.sh -O miniconda.sh; fi;
      chmod +x miniconda.sh;
      sh ./miniconda.sh -b -p ./miniconda3 && source ./miniconda3/bin/activate;
      conda init bash && source $HOME/.bashrc;
      conda update --yes conda;
      conda config --add channels conda-forge;
      conda install --yes sed openssl;

script:
    - ./tests/test.sh
